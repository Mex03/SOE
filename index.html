<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nota Order</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background:#0275d8;
    margin:0;
    padding:20px;
    display:flex;
    justify-content:center;
  }
  .card {
    background:#fff;
    padding:20px;
    border-radius:8px;
    margin:auto;
    width:100%;
    max-width:600px;
    box-shadow:0 2px 6px rgba(0,0,0,0.2);
    box-sizing:border-box;
  }
  h2 { text-align:center; color:#0275d8; }
  h3 { text-align:center; color:#333; }

  table {
    border-collapse:collapse;
    width:100%;
    margin-top:10px;
  }
  th,td {
    border:1px solid #ddd;
    padding:8px;
    text-align:center;
  }
  th { background:#f0f8ff; }

  #orderTable th { font-size:14px; font-weight:bold; }
  #orderTable td { font-size:12px; word-break:break-word; }

  /* ✅ Kolom angka di Rekap Pesanan tidak wrap */
  #orderTable th:nth-child(2),
  #orderTable th:nth-child(3),
  #orderTable th:nth-child(4),
  #orderTable th:nth-child(5),
  #orderTable td:nth-child(2),
  #orderTable td:nth-child(3),
  #orderTable td:nth-child(4),
  #orderTable td:nth-child(5) {
    white-space: nowrap;
    width: 1%;
  }

  #invoiceTable th { font-size:14px; font-weight:bold; }
  #invoiceTable td { font-size:12px; }

  .btn-container {
    display:flex;
    justify-content:center;
    gap:10px;
    margin-top:15px;
    flex-wrap:wrap;
  }
  .btn {
    background:#0275d8;
    color:#fff;
    border:none;
    padding:10px 16px;
    border-radius:6px;
    cursor:pointer;
    transition:0.3s;
    font-size:16px;
  }
  .btn:hover { background:#025aa5; transform:scale(1.05); }

  /* Overlay & popup */
  .overlay {
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.3);
    backdrop-filter:blur(5px);
    z-index:1000;
    align-items:center;
    justify-content:center;
    padding:10px;
    box-sizing:border-box;
  }
  .popup-card {
    background:#fff;
    padding:15px;
    border-radius:8px;
    width:90%;
    max-width:420px;
    max-height:80vh;
    overflow-y:auto;
    box-shadow:0 2px 10px rgba(0,0,0,0.3);
    position:relative;
  }
  .close-btn {
    position:absolute;
    top:8px;
    right:10px;
    cursor:pointer;
    color:red;
    font-size:18px;
    font-weight:bold;
  }

  /* ✅ Hint geser kanan */
  .scroll-hint {
    text-align:right;
    font-size:12px;
    color:#888;
    margin-top:4px;
    display:none;
  }
</style>
</head>
<body>
<div class="card">
  <h2>Nota Order</h2>
  <div id="orderData">Memuat data...</div>
  <h3>Rekap Pesanan</h3>
  <div style="overflow-x:auto;">
    <table id="orderTable">
      <thead>
        <tr>
          <th>ARTIKEL</th>
          <th>QTY</th>
          <th>TOTAL</th>
          <th>DISKON</th>
          <th>TOTAL SETELAH DISKON</th>
        </tr>
      </thead>
      <tbody>
        <tr><td colspan="5">Memuat data...</td></tr>
      </tbody>
    </table>
  </div>
  <div id="scrollHint" class="scroll-hint">Geser ke kanan →</div>

  <div class="btn-container">
    <button class="btn" onclick="openInvoice()">List Pesanan</button>
    <button class="btn" onclick="openTracking()">Tracking</button>
  </div>
</div>

<!-- Popup invoice -->
<div class="overlay" id="invoiceOverlay" onclick="closeOverlay(event,'invoiceOverlay')">
  <div class="popup-card">
    <span class="close-btn" onclick="closeInvoice()">✖</span>
    <h3 style="text-align:center;color:#0275d8;">List Pesanan</h3>
    <table id="invoiceTable">
      <thead>
        <tr><th>Nama Artikel</th><th>Qty</th><th>Total Harga</th></tr>
      </thead>
      <tbody>
        <tr><td colspan="3">Memuat data...</td></tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Popup tracking -->
<div class="overlay" id="trackingOverlay" onclick="closeOverlay(event,'trackingOverlay')">
  <div class="popup-card">
    <span class="close-btn" onclick="closeTracking()">✖</span>
    <h3 style="text-align:center;color:#0275d8;">Tracking Pesanan</h3>
    <div id="trackingInfo">Memuat status...</div>
  </div>
</div>

<script>
function openInvoice(){document.getElementById('invoiceOverlay').style.display='flex';}
function closeInvoice(){document.getElementById('invoiceOverlay').style.display='none';}
function openTracking(){document.getElementById('trackingOverlay').style.display='flex';}
function closeTracking(){document.getElementById('trackingOverlay').style.display='none';}
function closeOverlay(e,id){if(e.target.classList.contains('overlay'))document.getElementById(id).style.display='none';}

/* ✅ Hint scroll otomatis */
function checkScrollHint(){
  const wrapper=document.querySelector('#orderTable').parentElement;
  const hint=document.getElementById('scrollHint');
  if(wrapper.scrollWidth>wrapper.clientWidth){
    hint.style.display='block';
  }else{
    hint.style.display='none';
  }
}
window.addEventListener('resize',checkScrollHint);
window.addEventListener('load',checkScrollHint);
</script>
</body>
</html>
